<!-- start page title -->
<div class="pagetitle">
    <h1>Shopping Cart</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
            <li class="breadcrumb-item active">Shopping Cart</li>
        </ol>
    </nav>
</div>
<!-- end page title -->

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">

                <div class="table-responsive">
                    <table class="table table-borderless table-nowrap table-centered mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>Sno</th>
                                <th>Part No</th>
                                <th>Part Name</th>
                                <th>Model</th>
                                <th>Quantity</th>
                                <th style="width: 50px;"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of cartList;let i = index">
                                <td>
                                    {{item.part?.sno}}
                                </td>
                                <td>
                                    {{item.part.part_no}}
                                </td>
                                <td>
                                    {{item.part.name}}
                                </td>
                                <td>
                                    {{item.part.model ? item.part.model.name : '-'}}
                                </td>
                                <td>
                                    <!-- <input type="number" [(ngModel)]="item.qty" (change)="onChange(item)" class="form-control" placeholder="Qty"
                                        style="width: 90px;"> -->
                                    <div class="qty-box">
                                        <button type="button" class="btn btn-danger" (click)="decrement(i)">
                                            <i class="bi bi-dash-circle"></i>
                                        </button>
                                        <input type="number" [(ngModel)]="item.qty" (change)="onChange()"
                                            class="form-control" id="qty" name="qty">
                                        <button type="button" class="btn btn-danger" (click)="increment(i)">
                                            <i class="bi bi-plus-circle"></i>
                                        </button>
                                    </div>
                                </td>
                                <td>
                                    <button type="button" class="btn btn-danger" (click)="deleteCart(item)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <th colspan="4" class="text-end">Total QTY:</th>
                                <td>{{totalQty}}</td>
                            </tr>
                        </tfoot>
                    </table>
                </div> <!-- end table-responsive-->

                <!-- Add note input-->
                <div class="mt-3">
                    <label for="example-textarea" class="form-label">Add a Note:</label>
                    <textarea class="form-control" id="example-textarea" rows="3"
                        placeholder="Write some note.."></textarea>
                </div>

                <!-- action buttons-->
                <div class="row mt-4">
                    <div class="col-sm-6">
                        <a routerLink="/add-catalogue"
                            class="btn text-muted d-none d-sm-inline-block btn-link fw-semibold">
                            <i class="bi bi-arrow-left"></i>
                            Continue Shopping
                        </a>
                    </div>
                    <div class="col-sm-6">
                        <div class="text-sm-end">
                            <a (click)="updateCart()" class="btn btn-primary me-2">
                                <i class="bi bi-cart-plus me-1"></i> Update
                            </a>

                            <a (click)="submitOrder()" class="btn btn-primary">
                                Place Order
                            </a>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>
<!-- end row -->